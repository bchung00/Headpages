<!DOCTYPE html>
<html>
<head lang="en">
   <meta charset="utf-8">
   <title>Upload - HeadPages</title>
   <link href="css/upload.css" rel="stylesheet">
   <link href="css/navbar.css" rel="stylesheet">
   <style></style>
  <script src="upload.js"></script>
  <script>
      function setImagePreview() {
          var docObj=document.getElementById("file");

          var imgObjPreview=document.getElementById("preview");
          if(docObj.files && docObj.files[0]){
              document.getElementById("pic").style.display = 'block';
              imgObjPreview.style.width = '30%';
              imgObjPreview.src = window.URL.createObjectURL(docObj.files[0]);
          }else{
              //IE下，使用滤镜
              docObj.select();
              var imgSrc = document.selection.createRange().text;
              var localImagId = document.getElementById("localImag");
              //必须设置初始大小
              localImagId.style.width = "300px";
              localImagId.style.height = "120px";
              //图片异常的捕捉，防止用户修改后缀来伪造图片
              try{
                  localImagId.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale)";
                  localImagId.filters.item("DXImageTransform.Microsoft.AlphaImageLoader").src = imgSrc;
              }catch(e){
                  alert("您上传的图片格式不正确，请重新选择!");
                  return false;
              }
              imgObjPreview.style.display = 'none';
              document.selection.empty();
          }
          return true;
      }
  </script>

</head>
<body>
  <header>
    <nav class="navbar">
      <ul>
        <li id="Head"><a>HeadPages</a></li>
    	  <li class="nav"><a href="index.html">Home</a></li>
        <li class="nav"><a href="browse.html">Browse</a></li>
        <li class="nav"><a href="search.html">Search</a></li>
        <li class="MyAccount"><a>My Account ▼</a>
          <ul> 
              <li class="upload"><a href="#"><img class="symbol1" src="travel-images/symbols/upload.png" width="14%">Upload</a></li>
              <li class="MAnav"><a href="my photos.html"><img class="symbol1" src="travel-images/symbols/myphotos.png" width="14%">My Photos</a></li>
              <li class="MAnav"><a href="my favourites.html"><img class="symbol1" src="travel-images/symbols/favourite.png" width="14%">Favourite</a></li>
              <li class="MAnav"><a href="index-before.html"><img class="symbol2" src="travel-images/symbols/logout.png" width="14%">Logout</a></li>
          </ul>
        </li>
      </ul>
    </nav>
  </header>
  <br>
  <article>
    <div class="upload">
      <form id="uploadForm">
    <table cellspacing="0" cellpadding="0">
      <th>Upload</th>
      <tr>
        <td><input type="file" name="file" class="input" id="file" onchange="javascript:setImagePreview();"/></td>
      </tr>
      <tr id="pic" style="display:none;background-color: white">
        <td style="width: 100%;"><img id="preview" style="margin: 11px 23px"/></td>
      </tr>
      <tr>
        <td><input type="text" placeholder="Photo Name..." name="name" id="name" class="input" /><br> </td>
      </tr>
      <tr>
        <td><input type="text" placeholder="Photo Description..." name="description" id="description" class="input" /></td>
      </tr>
      <tr>
        <td><input type="text" placeholder="City..." name="city" id="city" class="input" /><br> </td>
      </tr>
      <tr>
        <td><input type="text" placeholder="Country..." name="country" id="country" class="input" readonly/><br> </td>
      </tr>
      <tr>
        <td><input type="text" placeholder="Continent..." name="continent" id="continent" class="input" readonly/><br> </td>
      </tr>
      <tr>
        <td><input type="text" placeholder="Latitude..." name="latitude" id="latitude"  class="input"/><br></td>
      </tr>
      <tr>
        <td><input type="text" placeholder="Longitude..." name="longitude" id="longitude" class="input"/><br></td>
      </tr>
    </table>
      </form>
      <a><button id="bt">Submit</button></a><a id="warning" style="color: #a94442"></a>
  </div>
  </article>
  <footer>
    <nav class="end">
      <hr/>
      <ul>
        <li><a>@2017 16SS All rights reserved.</a></li>
        <li class="back"><a href="#"><img src="travel-images/symbols/arrow.png"> Back to top</a></li>
      </ul>
    </nav>
  </footer>
</body>
</html>